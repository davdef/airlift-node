node_name = "sine_mixer_test"

[producers.sine_440]
type = "sine"
enabled = true
sample_rate = 48000

[producers.sine_880]
type = "sine"
enabled = true
sample_rate = 48000

[producers.sine_440.config]
frequency = 440.0

[producers.sine_880.config]
frequency = 880.0

[processors.main_mixer]
type = "mixer"
enabled = true

[processors.main_mixer.config]
output_sample_rate = 48000
output_channels = 2
master_gain = 0.5
auto_connect = true

[[processors.main_mixer.config.inputs]]
name = "sine_440"
source = "producer:sine_440"
gain = 0.7
enabled = true

[[processors.main_mixer.config.inputs]]
name = "sine_880"
source = "producer:sine_880"
gain = 0.3
enabled = true

[flows.mixer_test]
enabled = true
inputs = ["sine_440", "sine_880"]
processors = ["main_mixer"]
outputs = ["recorder"]

[consumers.recorder]
type = "file"
enabled = true
path = "sine_mix.wav"
